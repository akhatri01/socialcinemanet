<div class="sort">
  Sort by:
  <select>
    <option value="title">Title</option>
    <option value="year">Year</option>
    <option value="imdb_rating">IMDB Rating</option>
    <option value="user_rating">User Rating</option>
    <option value="genre">Genre</option>
  </select>
</div>

<table>
  <thead>
    <tr>
      <td>Title</td>
      <td>Year</td>
      <td>IMDB Rating</td>
      <td>Genre</td>
    </tr>
  </thead>
<% @movies.each do |movie| %>
  <tr>
    <td>
      <%= movie.name %>
    </td>
    <td>
      <%= movie.release_date.year %>
    </td>
    <td class="imdb-rating">
      <%= movie.imdb_rating || "-" %>
    </td>
    <td>
      <%= movie.genre[0] ? movie.genre[0].category : "-" %>
    </td>
</tr>
<% end %>
</table>
<div class="pagination">
  <% if @idx != 1 %>
    <%= link_to "First", {:controller => "info", :action => "index", :idx => 1 } %>
  <% end %>
  <% if @idx_prev %>
    <%= link_to "Prev", {:controller => "info", :action => "index", :idx => @idx_prev } %>
  <% end %>
  <% if @idx > 3 %>
    ...
  <% end %>
  <% @page_nums.each do |page| %>
    <%= link_to page.to_s, {:controller => "info", :action => "index", :idx => page } %>
  <% end %>
  <% if @idx != @max_pages %>
    ...
  <% end %>
  <% if @idx_next %>
    <%= link_to "Next", {:controller => "info", :action => "index", :idx => @idx_next } %>
  <% end %>
  <% if @idx < @max_pages - 2 %>
    <%= link_to "Last", {:controller => "info", :action => "index", :idx => @max_pages } %>
  <% end %>
</div>
